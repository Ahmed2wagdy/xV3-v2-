<!-- Forgot Password Component HTML with loading states -->
<div class="container">
    <!-- Left side (Form inputs) -->
    <div class="form-side">
      <div class="form-container">
        <h1 class="title">Forget Password</h1>
        <p class="subtitle">Enter your Email to reset your password.</p>
  
        <!-- Progress steps -->
        <div class="steps-container">
          <div class="step active">
            <div class="step-number">1</div>
          </div>
          <div class="step-line"></div>
          <div class="step">
            <div class="step-number">2</div>
          </div>
          <div class="step-line"></div>
          <div class="step">
            <div class="step-number">3</div>
          </div>
        </div>
  
        <form (ngSubmit)="onSubmit()" [formGroup]="forgotPasswordForm">
          <!-- Email or Phone label -->
          <div class="input-label">
            <h3>Email Address</h3>
          </div>
  
          <!-- Email input -->
          <div class="form-group">
            <input 
              type="email" 
              formControlName="emailOrPhone" 
              placeholder="Enter your email address"
              class="form-control"
              [ngClass]="{'invalid': submitted && f['emailOrPhone'].errors}"
              [disabled]="isLoading"
            >
            <div *ngIf="submitted && f['emailOrPhone'].errors" class="error-message">
              <div *ngIf="f['emailOrPhone'].errors['required']">Email is required</div>
              <div *ngIf="f['emailOrPhone'].errors['invalidFormat']">Please enter a valid email address</div>
            </div>
          </div>
          
          <!-- Submit button -->
          <button type="submit" class="reset-btn" [disabled]="isLoading">
            <span *ngIf="!isLoading">Send Reset Code</span>
            <span *ngIf="isLoading">
              <i class="bi bi-arrow-clockwise animate-spin"></i>
              Sending...
            </span>
          </button>
        </form>

        <!-- Back to login link -->
        <div class="back-to-login" style="text-align: center; margin-top: 20px;">
          <span>Remember your password? </span>
          <a [routerLink]="['/log-in']" *ngIf="!isLoading" style="color: #0c2b7a; text-decoration: none; font-weight: bold;">Back to Login</a>
        </div>
      </div>
    </div>
  
    <!-- Right side (Blue background with image) -->
    <div class="image-side">
      <div class="close-button">
        <button class="close-btn" (click)="goHome()">
          <i class="bi bi-x"></i>
        </button>
      </div>
      <div class="image-container">
        <img src="../../assets/images/forgetpassword.png" alt="Forgot password illustration">
      </div>
    </div>
  </div>

  <!-- Add CSS for loading animation -->
  <style>
    .animate-spin {
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }
    
    .reset-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    .form-control:disabled {
      background-color: #f5f5f5;
      opacity: 0.6;
    }
  </style>